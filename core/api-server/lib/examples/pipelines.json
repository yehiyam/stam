[
    {
        "name": "simple",
        "nodes": [
            {
                "nodeName": "green",
                "algorithmName": "green-alg",
                "input": [
                    "@flowInput.files.link"
                ]
            },
            {
                "nodeName": "yellow",
                "algorithmName": "yellow-alg",
                "input": [
                    "@green"
                ]
            },
            {
                "nodeName": "black",
                "algorithmName": "black-alg",
                "input": [
                    "@yellow"
                ]
            }
        ],
        "flowInput": {
            "files": {
                "link": "links-1"
            }
        },
        "options": {
            "batchTolerance": 100,
            "progressVerbosityLevel": "debug"
        }
    },
    {
        "name": "batch",
        "nodes": [
            {
                "nodeName": "green",
                "algorithmName": "green-alg",
                "input": [
                    "#@flowInput.files.links"
                ]
            },
            {
                "nodeName": "yellow",
                "algorithmName": "yellow-alg",
                "input": [
                    "@green"
                ]
            },
            {
                "nodeName": "black",
                "algorithmName": "black-alg",
                "input": [
                    "@yellow"
                ]
            }
        ],
        "flowInput": {
            "files": {
                "links": [
                    "links-1",
                    "links-2",
                    "links-3",
                    "links-4",
                    "links-5",
                    "links-6",
                    "links-7",
                    "links-8",
                    "links-9",
                    "links-10"
                ]
            }
        },
        "options": {
            "batchTolerance": 100,
            "progressVerbosityLevel": "debug"
        }
    },
    {
        "name": "big-batch",
        "nodes": [
            {
                "nodeName": "green",
                "algorithmName": "green-alg",
                "input": [
                    "#@flowInput.files.links"
                ]
            },
            {
                "nodeName": "yellow",
                "algorithmName": "yellow-alg",
                "input": [
                    "#@flowInput.files.links"
                ]
            },
            {
                "nodeName": "black",
                "algorithmName": "black-alg",
                "input": [
                    "#@flowInput.files.links"
                ]
            }
        ],
        "flowInput": {
            "files": {
                "links": [
                    "links-1",
                    "links-2",
                    "links-3",
                    "links-4",
                    "links-5",
                    "links-6",
                    "links-7",
                    "links-8",
                    "links-9",
                    "links-10"
                ]
            }
        },
        "options": {
            "batchTolerance": 100,
            "progressVerbosityLevel": "debug"
        }
    },
    {
        "name": "big-wait-batch",
        "nodes": [
            {
                "nodeName": "green",
                "algorithmName": "green-alg",
                "input": [
                    "#@flowInput.files.links"
                ]
            },
            {
                "nodeName": "yellow",
                "algorithmName": "yellow-alg",
                "input": [
                    "#@flowInput.files.links"
                ]
            },
            {
                "nodeName": "black",
                "algorithmName": "black-alg",
                "input": [
                    "@green",
                    "@yellow"
                ]
            }
        ],
        "flowInput": {
            "files": {
                "links": [
                    "links-1",
                    "links-2",
                    "links-3",
                    "links-4",
                    "links-5",
                    "links-6",
                    "links-7",
                    "links-8",
                    "links-9",
                    "links-10"
                ]
            }
        },
        "options": {
            "batchTolerance": 100,
            "progressVerbosityLevel": "debug"
        }
    },
    {
        "name": "wait-any-batch",
        "nodes": [
            {
                "nodeName": "black",
                "algorithmName": "black-alg",
                "input": [
                    {
                        "a": "*@green"
                    },
                    {
                        "c": "@green"
                    }
                ]
            },
            {
                "nodeName": "red",
                "algorithmName": "red-alg",
                "input": [
                    {
                        "b": "*@yellow"
                    },
                    {
                        "d": "@yellow"
                    }
                ]
            },
            {
                "nodeName": "green",
                "algorithmName": "green-alg",
                "input": [
                    "#@flowInput.files.links"
                ]
            },
            {
                "nodeName": "yellow",
                "algorithmName": "yellow-alg",
                "input": [
                    "#@flowInput.files.links"
                ]
            }
        ],
        "flowInput": {
            "files": {
                "links": [
                    "links-1",
                    "links-2",
                    "links-3",
                    "links-4",
                    "links-5"
                ]
            }
        },
        "options": {
            "batchTolerance": 100,
            "progressVerbosityLevel": "debug"
        }
    },
    {
        "name": "batch-on-node",
        "nodes": [
            {
                "nodeName": "green",
                "algorithmName": "green-alg",
                "input": [
                    "@flowInput.files.links"
                ]
            },
            {
                "nodeName": "yellow",
                "algorithmName": "yellow-alg",
                "input": [
                    "#@green"
                ]
            },
            {
                "nodeName": "black",
                "algorithmName": "black-alg",
                "input": [
                    "@yellow"
                ]
            }
        ],
        "flowInput": {
            "files": {
                "links": [
                    "links-1",
                    "links-2",
                    "links-3",
                    "links-4",
                    "links-5",
                    "links-6",
                    "links-7",
                    "links-8",
                    "links-9",
                    "links-10"
                ]
            }
        },
        "options": {
            "batchTolerance": 100,
            "progressVerbosityLevel": "debug"
        }
    },
    {
        "name": "simple-wait-batch",
        "nodes": [
            {
                "nodeName": "black",
                "algorithmName": "black-alg",
                "input": [
                    "*@green",
                    "*@yellow",
                    "@green",
                    "@yellow"
                ]
            },
            {
                "nodeName": "green",
                "algorithmName": "green-alg",
                "input": [
                    "#@flowInput.files.links"
                ]
            },
            {
                "nodeName": "yellow",
                "algorithmName": "yellow-alg",
                "input": [
                    "#@flowInput.files.links"
                ]
            }
        ],
        "flowInput": {
            "files": {
                "links": [
                    "links-1"
                ]
            }
        },
        "options": {
            "batchTolerance": 100,
            "progressVerbosityLevel": "debug"
        }
    },
    {
        "name": "simple_trigger2",
        "nodes": [
            {
                "nodeName": "split",
                "algorithmName": "eval-alg",
                "input": [
                    "#@flowInput.text"
                ],
                "extraData": {
                    "code": [
                        "function split(input) {",
                        "return input[0].split(' ');",
                        "}"
                    ]
                }
            },
            {
                "nodeName": "reduce",
                "algorithmName": "eval-alg",
                "input": [
                    "*@split"
                ],
                "extraData": {
                    "code": [
                        "function reduce(input) {",
                        "return input[0].reduce((all, word) => { ",
                        "if (word in all) {",
                        "all[word]++;",
                        "}",
                        "else {",
                        "all[word] = 1;",
                        "}",
                        "return all;",
                        "}, {});",
                        "}"
                    ]
                }
            }
        ],
        "flowInput": {
            "text": [
                "In mathematics and computer science, a directed acyclic graph",
                "edges, with each edge directed from one vertex to another",
                "such that there is no way to start at any vertex v and follow"
            ]
        },
        "options": {
            "batchTolerance": 100,
            "progressVerbosityLevel": "debug"
        },
        "webhooks": {
            "progress": "http://localhost:3003/webhook/progress",
            "result": "http://localhost:3003/webhook/result"
        }
    },
    {
        "name": "batch_trigger",
        "nodes": [
            {
                "nodeName": "count",
                "algorithmName": "eval-alg",
                "input": [
                    "@flowInput"
                ],
                "extraData": {
                    "code": [
                        "function count(input) {",
                        "let dict = {}",
                        "input[0].forEach(r => {",
                        "Object.entries(r).forEach(([k, v]) => {",
                        "if (!dict[k]) {",
                        "dict[k] = 0;",
                        "}",
                        "dict[k] += v",
                        "});",
                        "});",
                        "return dict",
                        "}"
                    ]
                }
            }
        ],
        "flowInput": {},
        "options": {
            "batchTolerance": 100,
            "progressVerbosityLevel": "debug"
        },
        "webhooks": {
            "progress": "http://localhost:3003/webhook/progress",
            "result": "http://localhost:3003/webhook/result"
        }
    }
]